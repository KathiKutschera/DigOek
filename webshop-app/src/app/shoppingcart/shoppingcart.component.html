<div class="container-fluid" *ngIf="cart">
    <p>
        Der derzeitige Einkaufswagen

        <br *ngIf="errorMessage"/>
        <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="errorMessage">{{errorMessage}}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="errorMessage = ''">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <br *ngIf="successMessage"/>
        <div class="alert alert-success alert-dismissible fade show" role="alert" *ngIf="successMessage">{{successMessage}}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="successMessage = ''">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div *ngFor="let cartItem of cart; index as i">
            <button type="button" name={{cartItem.pk_cartid}}
            class="list-group-item list-group-item-action"
            (click)="cartItem.showDetails = !cartItem.showDetails">

                {{cartItem.productName}}
            </button>
           <form *ngIf="cartItem.showDetails">
                <br/>

                <p>
                <div class="form-group">
                <label><b>Preis: </b></label>
                {{cartItem.price}}
                </div>
                

                <p>
                <div class="form-group">
                <label><b>Menge</b></label>
                <input type="text" class="form-control" name="amount" [(ngModel)]="cartItem.amount">
                </div>


                <button type="button" class="btn btn-lg btn-block btn-success" (click)="saveChanges(i)">Save Changes
                  <span><i class="fa fa-floppy-o" aria-hidden="true"></i></span>
                </button>
                <button type="button" class="btn btn-lg btn-block btn-danger" (click)="deleteItem(i)">Delete Item
                  <span><i class="fa fa-user-times" aria-hidden="true"></i></span>
                </button>
            </form>

        </div>

        <form *ngIf="cart.length > 0">
                <button type="button" class="btn btn-lg btn-block btn-success" (click)="process()">Bestellen
                        <span><i class="fa fa-floppy-o" aria-hidden="true"></i></span>
                      </button>
        </form>

</div>
